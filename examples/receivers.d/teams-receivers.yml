# ============================================================================
# MICROSOFT TEAMS RECEIVERS - CONFIGURAÃ‡ÃƒO MODULAR
# ============================================================================
# Este arquivo contÃ©m configuraÃ§Ãµes especÃ­ficas para receivers do Microsoft Teams,
# organizados por equipe, canal e tipo de alerta.
#
# NOTA: O Alertmanager nÃ£o suporta includes nativamente para receivers.
# Este arquivo serve como referÃªncia para implementaÃ§Ã£o via:
# - Ferramentas de templating (Helm, Ansible, Jinja2)
# - Scripts de deployment que concatenam arquivos
# - Ferramentas de CI/CD que processam configuraÃ§Ãµes modulares
# ============================================================================

# ========================================
# CONFIGURAÃ‡Ã•ES TEAMS GLOBAIS
# ========================================
# VariÃ¡veis de ambiente necessÃ¡rias:
# - TEAMS_SRE_WEBHOOK: Webhook do canal SRE
# - TEAMS_DEV_WEBHOOK: Webhook do canal Development
# - TEAMS_NETWORK_WEBHOOK: Webhook do canal Network
# - TEAMS_DBA_WEBHOOK: Webhook do canal Database
# - TEAMS_SECURITY_WEBHOOK: Webhook do canal Security
# - TEAMS_GENERAL_WEBHOOK: Webhook do canal geral
# - TEAMS_CRITICAL_WEBHOOK: Webhook do canal de alertas crÃ­ticos
#
# ConfiguraÃ§Ã£o de Webhooks no Teams:
# 1. Acesse o canal desejado no Microsoft Teams
# 2. Clique nos trÃªs pontos (...) > Connectors
# 3. Procure por "Incoming Webhook" e configure
# 4. Copie a URL do webhook gerada
# 5. Configure como variÃ¡vel de ambiente

# ========================================
# RECEIVERS TEAMS - PADRÃƒO
# ========================================

# NotificaÃ§Ãµes padrÃ£o
default-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_GENERAL_WEBHOOK}'
      title: 'ğŸ”” Alerta de Monitoramento'
      text: |
        **Alerta detectado no sistema de monitoramento**
        
        {{ range .Alerts }}
        **ğŸ“Š Resumo:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ·ï¸ Prioridade:** {{ .Labels.priority | default "P2" }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** {{ .Labels.instance }}  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service | default "N/A" }}  
        **ğŸ‘¥ Equipe:** {{ .Labels.team | default "ops" }}  
        **ğŸŒ Ambiente:** {{ .Labels.environment | default "unknown" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Clique aqui]({{ .Annotations.runbook_url }})  
        {{ end }}
        {{ if .Annotations.alert_id }}
        **ğŸ†” Alert ID:** {{ .Annotations.alert_id }}  
        {{ end }}
        
        ---
        {{ end }}
        
        **ğŸ”— Links Ãšteis:**
        - [Prometheus](http://prometheus.company.com)
        - [Grafana](http://grafana.company.com)
        - [Alertmanager](http://alertmanager.company.com)
        
        *Sistema de Monitoramento AutomÃ¡tico*
      send_resolved: true

# ========================================
# RECEIVERS TEAMS - CRÃTICOS
# ========================================

# Alertas crÃ­ticos
critical-alerts-teams:
  webhook_configs:
    - url: '${TEAMS_CRITICAL_WEBHOOK}'
      title: 'ğŸš¨ ALERTA CRÃTICO - AÃ‡ÃƒO IMEDIATA NECESSÃRIA'
      text: |
        # ğŸ”´ ALERTA CRÃTICO DETECTADO
        
        âš ï¸ **Um alerta crÃ­tico foi disparado e requer atenÃ§Ã£o IMEDIATA** âš ï¸
        
        {{ range .Alerts }}
        ## ğŸš¨ Detalhes do Alerta
        
        | Campo | Valor |
        |-------|-------|
        | ğŸš¨ **Alert** | {{ .Annotations.summary }} |
        | ğŸ“ **DescriÃ§Ã£o** | {{ .Annotations.description }} |
        | ğŸ”¥ **Severidade** | **{{ .Labels.severity | upper }}** |
        | âš¡ **Prioridade** | **{{ .Labels.priority | default "P1" }}** |
        | ğŸ–¥ï¸ **InstÃ¢ncia** | `{{ .Labels.instance }}` |
        | ğŸ”§ **ServiÃ§o** | {{ .Labels.service | default "N/A" }} |
        | ğŸ‘¥ **Equipe** | {{ .Labels.team | default "ops" }} |
        | ğŸŒ **Ambiente** | {{ .Labels.environment | default "unknown" }} |
        | â° **Iniciado** | {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }} |
        | â±ï¸ **DuraÃ§Ã£o** | {{ .StartsAt | since }} |
        {{ if .Annotations.runbook_url }}
        | ğŸ“– **Runbook** | [Procedimentos]({{ .Annotations.runbook_url }}) |
        {{ end }}
        {{ if .Annotations.alert_id }}
        | ğŸ†” **Alert ID** | {{ .Annotations.alert_id }} |
        {{ end }}
        
        ---
        {{ end }}
        
        ## âš¡ AÃ§Ãµes Recomendadas
        
        1. âœ… Verificar o status do serviÃ§o imediatamente
        2. ğŸ“– Consultar o runbook para procedimentos especÃ­ficos
        3. ğŸ“ Escalar para o oncall se necessÃ¡rio
        4. ğŸ“ Documentar aÃ§Ãµes tomadas no ticket de incident
        
        ## ğŸ”— Links de Monitoramento
        
        - [ğŸ¯ Prometheus Alerts](http://prometheus.company.com/alerts)
        - [ğŸ“Š Grafana Dashboard](http://grafana.company.com/d/overview)
        - [ğŸ”” Alertmanager](http://alertmanager.company.com/#/alerts)
        - [ğŸ“ˆ Status Page](http://status.company.com)
        
        ## ğŸ“ Contatos de EmergÃªncia
        
        - **SRE Oncall:** +55 11 99999-0001
        - **Ops Manager:** +55 11 99999-0002
        - **Emergency Escalation:** +55 11 99999-0000
        
        ---
        
        *ğŸ¤– Sistema de Monitoramento CrÃ­tico - Resposta AutomÃ¡tica*
      send_resolved: true
      http_config:
        proxy_url: ''
      ms_teams:
        webhook_url: '${TEAMS_CRITICAL_WEBHOOK}'
        title: 'ğŸš¨ CRITICAL ALERT'
        text: 'Critical alert requires immediate attention'

# ========================================
# RECEIVERS TEAMS - POR EQUIPE
# ========================================

# SRE Team
sre-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_SRE_WEBHOOK}'
      title: 'ğŸ› ï¸ SRE Team - Alerta de Infraestrutura'
      text: |
        # ğŸ› ï¸ Alerta para Equipe SRE
        
        {{ range .Alerts }}
        ## ğŸ“Š InformaÃ§Ãµes do Alerta
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service | default "infrastructure" }}  
        **ğŸŒ Ambiente:** {{ .Labels.environment | default "unknown" }}  
        **ğŸ·ï¸ Categoria:** {{ .Labels.category | default "general" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Procedimentos SRE]({{ .Annotations.runbook_url }})  
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ“ˆ MÃ©tricas e Dashboards
        
        - [ğŸ–¥ï¸ Node Exporter](http://grafana.company.com/d/node-exporter)
        - [ğŸ—ï¸ Infrastructure Overview](http://grafana.company.com/d/infrastructure)
        - [ğŸ¯ Prometheus Targets](http://prometheus.company.com/targets)
        - [ğŸ“Š System Metrics](http://grafana.company.com/d/system)
        
        ## ğŸ”§ Procedimentos SRE
        
        1. âœ… Verificar mÃ©tricas relacionadas
        2. ğŸ“‹ Analisar logs de sistema
        3. ğŸ“Š Verificar capacidade e performance
        4. ğŸ“ Documentar investigaÃ§Ã£o no runbook
        5. ğŸ”„ Implementar correÃ§Ãµes se necessÃ¡rio
        
        *ğŸ› ï¸ Equipe SRE - Sistema de Monitoramento*
      send_resolved: true

# Development Team
dev-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_DEV_WEBHOOK}'
      title: 'ğŸ’» Development Team - Alerta de AplicaÃ§Ã£o'
      text: |
        # ğŸ’» Alerta de Desenvolvimento
        
        {{ range .Alerts }}
        ## ğŸš€ Detalhes da AplicaÃ§Ã£o
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **ğŸŒ Ambiente:** {{ .Labels.environment | default "development" }}  
        **ğŸ·ï¸ VersÃ£o:** {{ .Labels.version | default "unknown" }}  
        **ğŸŒ¿ Branch:** {{ .Labels.branch | default "main" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Guia de Debug]({{ .Annotations.runbook_url }})  
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ”— Links de Desenvolvimento
        
        - [ğŸ“‹ Application Logs](http://logs.company.com/{{ .GroupLabels.service }})
        - [ğŸ“Š APM Dashboard](http://apm.company.com/{{ .GroupLabels.service }})
        - [ğŸš€ CI/CD Pipeline](http://ci.company.com/{{ .GroupLabels.service }})
        - [ğŸ“ Repository](http://git.company.com/{{ .GroupLabels.service }})
        - [ğŸ§ª Test Results](http://tests.company.com/{{ .GroupLabels.service }})
        
        ## ğŸ› Procedimentos de Debug
        
        1. âœ… Verificar logs da aplicaÃ§Ã£o
        2. ğŸ“Š Analisar mÃ©tricas de performance
        3. ğŸš€ Verificar Ãºltima deployment
        4. ğŸ§ª Testar funcionalidade afetada
        5. â†©ï¸ Rollback se necessÃ¡rio
        6. ğŸ“ Documentar issue no Jira/GitHub
        
        *ğŸ’» Equipe de Desenvolvimento - Sistema de Monitoramento*
      send_resolved: true

# Network Team
network-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_NETWORK_WEBHOOK}'
      title: 'ğŸŒ Network Team - Alerta de Rede'
      text: |
        # ğŸŒ Alerta de Infraestrutura de Rede
        
        {{ range .Alerts }}
        ## ğŸ”Œ InformaÃ§Ãµes do Dispositivo
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ–¥ï¸ Dispositivo:** `{{ .Labels.instance }}`  
        **ğŸ·ï¸ Tipo:** {{ .Labels.device_type | default "network-device" }}  
        **ğŸ“ LocalizaÃ§Ã£o:** {{ .Labels.location | default "unknown" }}  
        **ğŸ¢ Vendor:** {{ .Labels.vendor | default "unknown" }}  
        **ğŸ“± Modelo:** {{ .Labels.model | default "unknown" }}  
        **ğŸ”Œ Interface:** {{ .Labels.ifDescr | default "N/A" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Procedimentos de Rede]({{ .Annotations.runbook_url }})  
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ› ï¸ Ferramentas de Rede
        
        - [ğŸŒ Network Monitoring](http://grafana.company.com/d/network-overview)
        - [ğŸ“Š SNMP Dashboard](http://grafana.company.com/d/snmp-devices)
        - [ğŸ—ºï¸ Network Topology](http://netbox.company.com)
        - [âš™ï¸ Device Management](http://nms.company.com)
        - [ğŸ“ˆ Bandwidth Usage](http://grafana.company.com/d/bandwidth)
        
        ## ğŸ”§ Procedimentos de Rede
        
        1. âœ… Verificar conectividade: `ping {{ .GroupLabels.instance }}`
        2. ğŸ“Š Verificar SNMP: `snmpwalk -v2c -c public {{ .GroupLabels.instance }}`
        3. ğŸ“ˆ Analisar interfaces e utilizaÃ§Ã£o
        4. ğŸ“‹ Verificar logs do dispositivo
        5. ğŸ”„ Verificar redundÃ¢ncia e failover
        6. ğŸ“ Contatar fornecedor se necessÃ¡rio
        
        *ğŸŒ Equipe de Rede - Sistema de Monitoramento*
      send_resolved: true

# Database Team
database-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_DBA_WEBHOOK}'
      title: 'ğŸ—„ï¸ Database Team - Alerta de Banco de Dados'
      text: |
        # ğŸ—„ï¸ Alerta de Banco de Dados
        
        {{ range .Alerts }}
        ## ğŸ’¾ InformaÃ§Ãµes do Database
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ—„ï¸ Database:** {{ .Labels.service }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **ğŸ·ï¸ Tipo:** {{ .Labels.db_type | default "unknown" }}  
        **ğŸ“± VersÃ£o:** {{ .Labels.db_version | default "unknown" }}  
        **ğŸ“Š Schema:** {{ .Labels.database | default "N/A" }}  
        **ğŸŒ Ambiente:** {{ .Labels.environment | default "unknown" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Procedimentos DBA]({{ .Annotations.runbook_url }})  
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ› ï¸ Ferramentas de Database
        
        - [ğŸ—„ï¸ Database Dashboard](http://grafana.company.com/d/database-overview)
        - [âš¡ Performance Metrics](http://grafana.company.com/d/db-performance)
        - [ğŸŒ Query Analytics](http://grafana.company.com/d/slow-queries)
        - [ğŸ’¾ Backup Status](http://backup.company.com/status)
        - [ğŸ”„ Replication Monitor](http://grafana.company.com/d/db-replication)
        
        ## ğŸ”§ Procedimentos DBA
        
        1. âœ… Verificar conexÃµes ativas
        2. ğŸŒ Analisar queries lentas
        3. ğŸ’½ Verificar espaÃ§o em disco
        4. ğŸ“‹ Analisar logs de erro
        5. ğŸ”„ Verificar replicaÃ§Ã£o (se aplicÃ¡vel)
        6. ğŸ’¾ Verificar status de backup
        7. ğŸ“Š Analisar performance metrics
        
        *ğŸ—„ï¸ Equipe DBA - Sistema de Monitoramento*
      send_resolved: true

# Security Team
security-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_SECURITY_WEBHOOK}'
      title: 'ğŸ”’ Security Team - Alerta de SeguranÃ§a'
      text: |
        # ğŸ”’ ALERTA DE SEGURANÃ‡A
        
        âš ï¸ **Um evento de seguranÃ§a foi detectado e requer anÃ¡lise** âš ï¸
        
        {{ range .Alerts }}
        ## ğŸ›¡ï¸ Detalhes do Evento de SeguranÃ§a
        
        | Campo | Valor |
        |-------|-------|
        | ğŸ”’ **Alert** | {{ .Annotations.summary }} |
        | ğŸ“ **DescriÃ§Ã£o** | {{ .Annotations.description }} |
        | ğŸš¨ **Severidade** | **{{ .Labels.severity | upper }}** |
        | ğŸ–¥ï¸ **InstÃ¢ncia** | `{{ .Labels.instance }}` |
        | ğŸ”§ **ServiÃ§o** | {{ .Labels.service | default "N/A" }} |
        | ğŸŒ **Ambiente** | {{ .Labels.environment | default "unknown" }} |
        | ğŸ“ **LocalizaÃ§Ã£o** | {{ .Labels.location | default "unknown" }} |
        | ğŸ• **Iniciado** | {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }} |
        {{ if .Labels.source_ip }}
        | ğŸŒ **IP de Origem** | `{{ .Labels.source_ip }}` |
        {{ end }}
        {{ if .Labels.user }}
        | ğŸ‘¤ **UsuÃ¡rio** | {{ .Labels.user }} |
        {{ end }}
        {{ if .Annotations.runbook_url }}
        | ğŸ“– **Runbook** | [Procedimentos]({{ .Annotations.runbook_url }}) |
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ› ï¸ Ferramentas de SeguranÃ§a
        
        - [ğŸ” SIEM Dashboard](http://siem.company.com)
        - [ğŸ“Š Security Metrics](http://grafana.company.com/d/security)
        - [ğŸ¯ Threat Intelligence](http://threat.company.com)
        - [ğŸ“ Incident Response](http://incident.company.com)
        - [ğŸ”’ Vulnerability Scanner](http://vuln.company.com)
        
        ## ğŸ”§ Procedimentos de SeguranÃ§a
        
        1. âœ… Analisar logs de seguranÃ§a
        2. ğŸ” Verificar indicadores de comprometimento
        3. ğŸ¯ Correlacionar com threat intelligence
        4. ğŸ“ Documentar no sistema de incidents
        5. ğŸ“ Escalar conforme polÃ­tica de seguranÃ§a
        6. ğŸ”’ Implementar medidas de contenÃ§Ã£o se necessÃ¡rio
        
        ---
        
        âš ï¸ **CONFIDENCIAL - EQUIPE DE SEGURANÃ‡A** âš ï¸  
        *Este alerta contÃ©m informaÃ§Ãµes sensÃ­veis de seguranÃ§a*
      send_resolved: true

# ========================================
# RECEIVERS TEAMS - POR AMBIENTE
# ========================================

# ProduÃ§Ã£o
production-alerts-teams:
  webhook_configs:
    - url: '${TEAMS_GENERAL_WEBHOOK}'
      title: 'ğŸ­ PRODUÃ‡ÃƒO - Alerta CrÃ­tico do NegÃ³cio'
      text: |
        # ğŸ­ ALERTA DE PRODUÃ‡ÃƒO
        
        âš ï¸ **Um alerta foi disparado no ambiente de produÃ§Ã£o** âš ï¸
        
        {{ range .Alerts }}
        ## ğŸš¨ Detalhes do Alerta de ProduÃ§Ã£o
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **ğŸ”¥ Severidade:** **{{ .Labels.severity | upper }}**  
        **âš¡ Prioridade:** **{{ .Labels.priority | default "P2" }}**  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **ğŸ“± VersÃ£o:** {{ .Labels.version | default "unknown" }}  
        **ğŸ—ï¸ Cluster:** {{ .Labels.cluster | default "main" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        {{ if .Annotations.runbook_url }}
        **ğŸ“– Runbook:** [Procedimentos de ProduÃ§Ã£o]({{ .Annotations.runbook_url }})  
        {{ end }}
        
        ---
        {{ end }}
        
        ## ğŸ’¼ Impacto no NegÃ³cio
        
        | Aspecto | Status |
        |---------|--------|
        | ğŸŒ **Ambiente** | **PRODUÃ‡ÃƒO** |
        | ğŸ”¥ **Criticidade** | **ALTA** |
        | ğŸ“Š **SLA Impact** | PossÃ­vel |
        | ğŸ‘¥ **Customer Impact** | {{ if eq .GroupLabels.severity "critical" }}**ALTO**{{ else }}BAIXO{{ end }} |
        | ğŸ’° **Business Impact** | {{ if eq .GroupLabels.severity "critical" }}**CRÃTICO**{{ else }}Limitado{{ end }} |
        
        ## âš¡ AÃ§Ãµes Imediatas
        
        1. âœ… **Verificar status do serviÃ§o**
        2. ğŸ‘¥ **Analisar impacto nos usuÃ¡rios**
        3. ğŸ“‹ **Seguir procedimentos de incident response**
        4. ğŸ“ **Comunicar stakeholders se necessÃ¡rio**
        5. ğŸ“Š **Monitorar mÃ©tricas de negÃ³cio**
        6. ğŸ“ **Documentar todas as aÃ§Ãµes**
        
        ## ğŸ“ EscalaÃ§Ã£o de EmergÃªncia
        
        - **Incident Commander:** +55 11 99999-1001
        - **Technical Lead:** +55 11 99999-1002
        - **Business Owner:** +55 11 99999-1003
        
        ---
        
        ğŸ­ **AMBIENTE DE PRODUÃ‡ÃƒO - ATENÃ‡ÃƒO REDOBRADA** ğŸ­
      send_resolved: true

# Staging
staging-alerts-teams:
  webhook_configs:
    - url: '${TEAMS_DEV_WEBHOOK}'
      title: 'ğŸ§ª STAGING - Alerta de Ambiente de Teste'
      text: |
        # ğŸ§ª ALERTA DE STAGING
        
        {{ range .Alerts }}
        ## ğŸ§ª Detalhes do Ambiente de Teste
        
        **ğŸš¨ Alert:** {{ .Annotations.summary }}  
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **âš ï¸ Severidade:** {{ .Labels.severity | upper }}  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **ğŸŒ¿ Branch:** {{ .Labels.branch | default "develop" }}  
        **ğŸ—ï¸ Build:** {{ .Labels.build | default "unknown" }}  
        **â° Iniciado:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        
        ---
        {{ end }}
        
        ## ğŸ§ª InformaÃ§Ãµes do Ambiente
        
        - **ğŸŒ Ambiente:** STAGING
        - **ğŸ¯ PropÃ³sito:** Testes e validaÃ§Ã£o
        - **ğŸ“Š Impact:** Limitado ao ambiente de teste
        - **ğŸ‘¥ UsuÃ¡rios:** Equipe interna e QA
        
        ## ğŸ”§ AÃ§Ãµes Recomendadas
        
        1. âœ… Verificar se afeta testes em andamento
        2. ğŸ§ª Validar funcionalidades crÃ­ticas
        3. ğŸ“‹ Verificar logs de deployment
        4. ğŸ”„ Considerar redeploy se necessÃ¡rio
        
        *ğŸ§ª Ambiente de Staging - Sistema de Monitoramento*
      send_resolved: true

# ========================================
# RECEIVERS TEAMS - ESPECIAIS
# ========================================

# Heartbeat/Watchdog
monitoring-heartbeat-teams:
  webhook_configs:
    - url: '${TEAMS_GENERAL_WEBHOOK}'
      title: 'ğŸ’“ Sistema de Monitoramento - Heartbeat'
      text: |
        # ğŸ’“ Heartbeat do Sistema de Monitoramento
        
        ## âœ… Status do Alertmanager
        
        **â° Timestamp:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        **âœ… Status:** Funcionando normalmente  
        **ğŸ”„ Ãšltima verificaÃ§Ã£o:** Bem-sucedida  
        
        ## ğŸ“Š Componentes Monitorados
        
        - âœ… **Prometheus:** Ativo
        - âœ… **Alertmanager:** Ativo
        - âœ… **Grafana:** Ativo
        - ğŸ“Š **Exporters:** Verificar dashboard
        
        ## ğŸ”— Links de VerificaÃ§Ã£o
        
        - [ğŸ¯ Prometheus](http://prometheus.company.com)
        - [ğŸ“Š Grafana](http://grafana.company.com)
        - [ğŸ”” Alertmanager](http://alertmanager.company.com)
        
        *ğŸ’“ Sistema de Monitoramento - VerificaÃ§Ã£o AutomÃ¡tica*
      send_resolved: false

# Maintenance Window
maintenance-notifications-teams:
  webhook_configs:
    - url: '${TEAMS_GENERAL_WEBHOOK}'
      title: 'ğŸ”§ Janela de ManutenÃ§Ã£o - NotificaÃ§Ã£o'
      text: |
        # ğŸ”§ Janela de ManutenÃ§Ã£o
        
        {{ range .Alerts }}
        ## ğŸ› ï¸ InformaÃ§Ãµes da ManutenÃ§Ã£o
        
        **ğŸ“ DescriÃ§Ã£o:** {{ .Annotations.description }}  
        **ğŸ”§ ServiÃ§o:** {{ .Labels.service }}  
        **ğŸ–¥ï¸ InstÃ¢ncia:** `{{ .Labels.instance }}`  
        **â° InÃ­cio:** {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}  
        **â±ï¸ DuraÃ§Ã£o Estimada:** {{ .Labels.duration | default "1 hora" }}  
        **ğŸ‘¥ ResponsÃ¡vel:** {{ .Labels.maintainer | default "Equipe SRE" }}  
        
        ---
        {{ end }}
        
        ## â„¹ï¸ InformaÃ§Ãµes Importantes
        
        - ğŸ”• **Alertas podem ser suprimidos durante a manutenÃ§Ã£o**
        - ğŸ“Š **MÃ©tricas podem apresentar anomalias temporÃ¡rias**
        - ğŸ”„ **ServiÃ§os serÃ£o restaurados automaticamente**
        - ğŸ“ **Contate a equipe SRE em caso de problemas**
        
        *ğŸ”§ Sistema de ManutenÃ§Ã£o - NotificaÃ§Ã£o AutomÃ¡tica*
      send_resolved: true

# ============================================================================
# CONFIGURAÃ‡ÃƒO DE TEMPLATES TEAMS
# ============================================================================
#
# 1. FORMATAÃ‡ÃƒO MARKDOWN:
#    - Use # para tÃ­tulos principais
#    - Use ## para subtÃ­tulos
#    - Use **texto** para negrito
#    - Use `cÃ³digo` para cÃ³digo inline
#    - Use | Tabela | Formato | para tabelas
#    - Use - Lista para listas
#    - Use [Link](URL) para links
#
# 2. EMOJIS RECOMENDADOS:
#    - ğŸš¨ Alertas crÃ­ticos
#    - âš ï¸ Warnings
#    - âœ… Status OK
#    - ğŸ”§ ManutenÃ§Ã£o
#    - ğŸ“Š MÃ©tricas
#    - ğŸ–¥ï¸ Servidores
#    - ğŸŒ Rede
#    - ğŸ—„ï¸ Banco de dados
#    - ğŸ’» Desenvolvimento
#    - ğŸ”’ SeguranÃ§a
#    - ğŸ“ Contatos
#    - ğŸ”— Links
#
# 3. CORES E TEMAS:
#    - Teams suporta temas automÃ¡ticos
#    - Use formataÃ§Ã£o consistente
#    - Evite cores especÃ­ficas no texto
#    - Confie na formataÃ§Ã£o markdown
#
# 4. WEBHOOK CONFIGURATION:
#    - Configure webhooks por canal
#    - Use variÃ¡veis de ambiente
#    - Teste conectividade regularmente
#    - Configure retry policies
#
# 5. CARDS E ACTIONS:
#    - Teams suporta Adaptive Cards
#    - Configure actions para links rÃ¡pidos
#    - Use botÃµes para aÃ§Ãµes comuns
#    - Implemente deep links quando possÃ­vel
#
# 6. RATE LIMITING:
#    - Teams tem limites de rate
#    - Configure throttling no Alertmanager
#    - Use group_interval adequadamente
#    - Monitore delivery status
#
# 7. TESTE E VALIDAÃ‡ÃƒO:
#    - Teste webhooks regularmente
#    - Valide formataÃ§Ã£o em diferentes clientes
#    - Configure alertas de falha de entrega
#    - Documente troubleshooting
#
# 8. SEGURANÃ‡A:
#    - Proteja URLs de webhook
#    - Use HTTPS sempre
#    - Configure IP whitelisting se possÃ­vel
#    - Monitore uso nÃ£o autorizado
# ============================================================================