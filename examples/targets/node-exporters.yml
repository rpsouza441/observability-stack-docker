# Servidores Linux/Windows com Node Exporter
# Este arquivo define grupos de hosts para monitoramento de infraestrutura

# Servidores Web - Produção
- targets:
    - '10.0.1.10:9100'  # web-server-01
    - '10.0.1.11:9100'  # web-server-02
    - '10.0.1.12:9100'  # web-server-03
  labels:
    environment: 'production'
    team: 'infrastructure'
    service: 'web'
    datacenter: 'dc1'
    os: 'linux'
    role: 'frontend'
    backup_schedule: 'daily'

# Servidores de Banco de Dados
- targets:
    - '10.0.1.20:9100'  # db-server-01 (Primary)
    - '10.0.1.21:9100'  # db-server-02 (Replica)
  labels:
    environment: 'production'
    team: 'database'
    service: 'postgresql'
    datacenter: 'dc1'
    os: 'linux'
    role: 'database'
    backup_schedule: 'hourly'
    db_role: 'primary,replica'

# Servidores de Aplicação
- targets:
    - '10.0.2.10:9100'  # app-server-01
    - '10.0.2.11:9100'  # app-server-02
    - '10.0.2.12:9100'  # app-server-03
  labels:
    environment: 'production'
    team: 'backend'
    service: 'api'
    datacenter: 'dc1'
    os: 'linux'
    role: 'application'
    backup_schedule: 'daily'
    app_version: 'v2.1.0'

# Servidores Windows
- targets:
    - '10.0.3.10:9182'  # windows-server-01 (Windows Exporter)
    - '10.0.3.11:9182'  # windows-server-02
    - '10.0.3.12:9182'  # windows-ad-01 (Active Directory)
  labels:
    environment: 'production'
    team: 'infrastructure'
    service: 'windows'
    datacenter: 'dc1'
    os: 'windows'
    role: 'infrastructure'
    backup_schedule: 'daily'
    windows_version: '2022'

# Servidores de Cache/Redis
- targets:
    - '10.0.4.10:9100'  # redis-server-01
    - '10.0.4.11:9100'  # redis-server-02
  labels:
    environment: 'production'
    team: 'backend'
    service: 'redis'
    datacenter: 'dc1'
    os: 'linux'
    role: 'cache'
    backup_schedule: 'daily'
    redis_mode: 'cluster'

# Ambiente de Staging
- targets:
    - '10.0.10.10:9100'  # staging-web-01
    - '10.0.10.11:9100'  # staging-app-01
    - '10.0.10.12:9100'  # staging-db-01
  labels:
    environment: 'staging'
    team: 'qa'
    service: 'staging'
    datacenter: 'dc1'
    os: 'linux'
    role: 'testing'
    backup_schedule: 'weekly'

# Servidores de Monitoramento
- targets:
    - '10.0.5.10:9100'  # monitoring-01 (Prometheus/Grafana)
    - '10.0.5.11:9100'  # logging-01 (ELK Stack)
  labels:
    environment: 'production'
    team: 'sre'
    service: 'monitoring'
    datacenter: 'dc1'
    os: 'linux'
    role: 'observability'
    backup_schedule: 'daily'
    critical: 'true'

# Servidores de Desenvolvimento
- targets:
    - '10.0.20.10:9100'  # dev-server-01
    - '10.0.20.11:9100'  # dev-server-02
  labels:
    environment: 'development'
    team: 'development'
    service: 'dev'
    datacenter: 'dc1'
    os: 'linux'
    role: 'development'
    backup_schedule: 'none'
    auto_shutdown: 'true'

# Notas de Configuração:
# - Porta 9100: Node Exporter padrão (Linux)
# - Porta 9182: Windows Exporter padrão
# - Labels são usadas para roteamento de alertas e organização
# - environment: production, staging, development
# - team: responsável pela manutenção
# - service: tipo de serviço/aplicação
# - role: função específica do servidor
# - backup_schedule: frequência de backup
# - critical: marca servidores críticos para alertas especiais