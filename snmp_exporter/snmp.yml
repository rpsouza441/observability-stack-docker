# Configuração do SNMP Exporter
# Módulos para diferentes tipos de dispositivos

# Módulo padrão para interfaces de rede (switches genéricos)
if_mib:
  walk:
    - 1.3.6.1.2.1.2.2.1.2   # ifDescr
    - 1.3.6.1.2.1.2.2.1.3   # ifType
    - 1.3.6.1.2.1.2.2.1.5   # ifSpeed
    - 1.3.6.1.2.1.2.2.1.7   # ifAdminStatus
    - 1.3.6.1.2.1.2.2.1.8   # ifOperStatus
    - 1.3.6.1.2.1.2.2.1.10  # ifInOctets
    - 1.3.6.1.2.1.2.2.1.11  # ifInUcastPkts
    - 1.3.6.1.2.1.2.2.1.12  # ifInNUcastPkts
    - 1.3.6.1.2.1.2.2.1.13  # ifInDiscards
    - 1.3.6.1.2.1.2.2.1.14  # ifInErrors
    - 1.3.6.1.2.1.2.2.1.16  # ifOutOctets
    - 1.3.6.1.2.1.2.2.1.17  # ifOutUcastPkts
    - 1.3.6.1.2.1.2.2.1.18  # ifOutNUcastPkts
    - 1.3.6.1.2.1.2.2.1.19  # ifOutDiscards
    - 1.3.6.1.2.1.2.2.1.20  # ifOutErrors
  lookups:
    - source_indexes: [ifIndex]
      lookup: 1.3.6.1.2.1.2.2.1.2
      drop_source_indexes: false
  overrides:
    ifAdminStatus:
      type: gauge
    ifOperStatus:
      type: gauge
    ifType:
      type: gauge
  version: 2
  auth:
    community: public

# Módulo para equipamentos Ubiquiti UniFi
ubiquiti_unifi:
  walk:
    # Informações básicas do sistema
    - 1.3.6.1.2.1.1.1.0     # sysDescr
    - 1.3.6.1.2.1.1.3.0     # sysUpTime
    - 1.3.6.1.2.1.1.5.0     # sysName
    # Interfaces de rede
    - 1.3.6.1.2.1.2.2.1.2   # ifDescr
    - 1.3.6.1.2.1.2.2.1.7   # ifAdminStatus
    - 1.3.6.1.2.1.2.2.1.8   # ifOperStatus
    - 1.3.6.1.2.1.2.2.1.10  # ifInOctets
    - 1.3.6.1.2.1.2.2.1.16  # ifOutOctets
    # Métricas específicas de WiFi (se disponível)
    - 1.3.6.1.4.1.41112.1.4.7.1.1  # unifiVapName
    - 1.3.6.1.4.1.41112.1.4.7.1.2  # unifiVapRadio
    - 1.3.6.1.4.1.41112.1.4.7.1.3  # unifiVapChannel
    - 1.3.6.1.4.1.41112.1.4.7.1.4  # unifiVapNumStations
  lookups:
    - source_indexes: [ifIndex]
      lookup: 1.3.6.1.2.1.2.2.1.2
      drop_source_indexes: false
  overrides:
    ifAdminStatus:
      type: gauge
    ifOperStatus:
      type: gauge
    sysUpTime:
      type: gauge
  version: 2
  auth:
    community: public

# Módulo para pfSense
pfsense:
  walk:
    # Informações do sistema
    - 1.3.6.1.2.1.1.1.0     # sysDescr
    - 1.3.6.1.2.1.1.3.0     # sysUpTime
    - 1.3.6.1.2.1.1.5.0     # sysName
    # CPU e Memória
    - 1.3.6.1.4.1.2021.11.9.0   # ssCpuIdle
    - 1.3.6.1.4.1.2021.11.10.0  # ssCpuSystem
    - 1.3.6.1.4.1.2021.11.11.0  # ssCpuUser
    - 1.3.6.1.4.1.2021.4.5.0    # memTotalReal
    - 1.3.6.1.4.1.2021.4.6.0    # memAvailReal
    - 1.3.6.1.4.1.2021.4.11.0   # memTotalSwap
    - 1.3.6.1.4.1.2021.4.12.0   # memAvailSwap
    # Interfaces de rede
    - 1.3.6.1.2.1.2.2.1.2   # ifDescr
    - 1.3.6.1.2.1.2.2.1.7   # ifAdminStatus
    - 1.3.6.1.2.1.2.2.1.8   # ifOperStatus
    - 1.3.6.1.2.1.2.2.1.10  # ifInOctets
    - 1.3.6.1.2.1.2.2.1.16  # ifOutOctets
    - 1.3.6.1.2.1.2.2.1.13  # ifInDiscards
    - 1.3.6.1.2.1.2.2.1.14  # ifInErrors
    - 1.3.6.1.2.1.2.2.1.19  # ifOutDiscards
    - 1.3.6.1.2.1.2.2.1.20  # ifOutErrors
    # Estados de conexão TCP
    - 1.3.6.1.2.1.6.9.0     # tcpCurrEstab
    # Load average
    - 1.3.6.1.4.1.2021.10.1.3.1  # laLoad.1
    - 1.3.6.1.4.1.2021.10.1.3.2  # laLoad.5
    - 1.3.6.1.4.1.2021.10.1.3.3  # laLoad.15
  lookups:
    - source_indexes: [ifIndex]
      lookup: 1.3.6.1.2.1.2.2.1.2
      drop_source_indexes: false
  overrides:
    ifAdminStatus:
      type: gauge
    ifOperStatus:
      type: gauge
    sysUpTime:
      type: gauge
    tcpCurrEstab:
      type: gauge
  version: 2
  auth:
    community: public

# Módulo genérico para switches com mais métricas
switch_extended:
  walk:
    # Informações básicas
    - 1.3.6.1.2.1.1.1.0     # sysDescr
    - 1.3.6.1.2.1.1.3.0     # sysUpTime
    - 1.3.6.1.2.1.1.5.0     # sysName
    - 1.3.6.1.2.1.1.6.0     # sysLocation
    # Interfaces completas
    - 1.3.6.1.2.1.2.2.1     # ifTable completa
    # Estatísticas de alta capacidade (64-bit counters)
    - 1.3.6.1.2.1.31.1.1.1.6   # ifHCInOctets
    - 1.3.6.1.2.1.31.1.1.1.10  # ifHCOutOctets
    # Informações de VLAN (se suportado)
    - 1.3.6.1.2.1.17.7.1.2.2   # dot1dTpFdbPort
  lookups:
    - source_indexes: [ifIndex]
      lookup: 1.3.6.1.2.1.2.2.1.2
      drop_source_indexes: false
  overrides:
    ifAdminStatus:
      type: gauge
    ifOperStatus:
      type: gauge
    ifType:
      type: gauge
    sysUpTime:
      type: gauge
  version: 2
  auth:
    community: public

# Módulo básico para teste de conectividade
basic:
  walk:
    - 1.3.6.1.2.1.1.1.0     # sysDescr
    - 1.3.6.1.2.1.1.3.0     # sysUpTime
    - 1.3.6.1.2.1.1.5.0     # sysName
  version: 2
  auth:
    community: public